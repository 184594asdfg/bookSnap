<view class="container">
  <!-- 用户信息头部 -->
  <view class="user-header">
    <view class="user-avatar-section">
      <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="user-info">
        <text class="user-name">{{userInfo.nickName || '未登录用户'}}</text>
        <text class="user-level">VIP会员</text>
      </view>
    </view>
    <view class="user-stats">
      <view class="stat-item">
        <text class="stat-number">{{userStats.processedCount || 0}}</text>
        <text class="stat-label">已处理</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{userStats.templateCount || 0}}</text>
        <text class="stat-label">模板</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{userStats.favoriteCount || 0}}</text>
        <text class="stat-label">收藏</text>
      </view>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-section">
    <view class="menu-title">我的功能</view>
    
    <view class="menu-grid">
      <view class="menu-item" bindtap="navigateToHistory">
        <text class="menu-icon">📊</text>
        <text class="menu-text">处理历史</text>
      </view>
      <view class="menu-item" bindtap="navigateToFavorites">
        <text class="menu-icon">⭐</text>
        <text class="menu-text">我的收藏</text>
      </view>
      <view class="menu-item" bindtap="navigateToTemplates">
        <text class="menu-icon">🎨</text>
        <text class="menu-text">我的模板</text>
      </view>
      <view class="menu-item" bindtap="navigateToSettings">
        <text class="menu-icon">⚙️</text>
        <text class="menu-text">设置</text>
      </view>
    </view>
  </view>

  <!-- 会员权益 -->
  <view class="vip-section" wx:if="{{!userInfo.isVip}}">
    <view class="vip-header">
      <text class="vip-title">升级VIP会员</text>
      <text class="vip-desc">解锁更多高级功能</text>
    </view>
    <view class="vip-features">
      <view class="vip-feature">
        <text class="feature-icon">✅</text>
        <text class="feature-text">无限次去水印处理</text>
      </view>
      <view class="vip-feature">
        <text class="feature-icon">✅</text>
        <text class="feature-text">高清视频导出</text>
      </view>
      <view class="vip-feature">
        <text class="feature-icon">✅</text>
        <text class="feature-text">专属模板库</text>
      </view>
      <view class="vip-feature">
        <text class="feature-icon">✅</text>
        <text class="feature-text">优先技术支持</text>
      </view>
    </view>
    <button class="vip-btn" bindtap="upgradeVip">立即升级</button>
  </view>

  <!-- 最近活动 -->
  <view class="recent-section">
    <view class="section-header">
      <text class="section-title">最近活动</text>
      <text class="section-more" bindtap="viewAllActivities">查看全部</text>
    </view>
    
    <view class="activity-list">
      <view class="activity-item" wx:for="{{recentActivities}}" wx:key="id">
        <text class="activity-icon">{{item.icon}}</text>
        <view class="activity-content">
          <text class="activity-title">{{item.title}}</text>
          <text class="activity-time">{{item.time}}</text>
        </view>
        <text class="activity-status {{item.status}}">{{item.statusText}}</text>
      </view>
      
      <view class="empty-state" wx:if="{{recentActivities.length === 0}}">
        <text class="empty-icon">📝</text>
        <text class="empty-text">暂无活动记录</text>
      </view>
    </view>
  </view>

  <!-- 底部操作 -->
  <view class="action-section">
    <button class="logout-btn" bindtap="logout" wx:if="{{userInfo.isLogin}}">退出登录</button>
    <button class="login-btn" bindtap="login" wx:else>立即登录</button>
    <button class="feedback-btn" bindtap="giveFeedback">意见反馈</button>
  </view>
</view>